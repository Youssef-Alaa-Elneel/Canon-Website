<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CART</title>
  <link rel="icon" href="https://1000logos.net/wp-content/uploads/2016/10/Canon-Logo-500x313.png">
  <link rel="stylesheet" href="../CSS/CartStyle.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw==" crossorigin="anonymous" referrerpolicy="no-referrer" /></head>
<body>
  <!-- Header Section -->
    <header>
        <div class="container header-container">
            <div class="logo">
                <a href="./LandingPage.html" id="logo"><span>Canon</span></a>
            </div>
            <nav>
                <ul>
                    <li><a href="./LandingPage.html" class="active">Home</a></li>
                    <li><a href="./product1.html">Products</a></li>
                    <li><a href="./LandingPage.html#support">Support</a></li>
                </ul>
            </nav>
            <div class="auth-buttons">
                <a href="./SignIn.html"><button class="btn btn-signin">Sign In</button></a>

            </div>
        </div>
    </header>

<!-- ----------- Product Display-------------- -->
<h2 id="c">CARTğŸ›’</h2>
<a href="./SignIn.html"><button id="total" ><h3 id="total"></h3> </button></a>
<div id="cart-container"></div>

    <!-- Footer Section -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>About Canon</h3>
                    <ul>
                        <li><a href="#">Our Story</a></li>
                        <li><a href="#">Leadership</a></li>
                        <li><a href="#">Sustainability</a></li>
                        <li><a href="#">Careers</a></li>
                        <li><a href="#">Newsroom</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Products</h3>
                    <ul>
                        <li><a href="#">Cameras</a></li>
                        <li><a href="#">Lenses</a></li>
                        <li><a href="#">Printers</a></li>
                        <li><a href="#">Accessories</a></li>
                        <li><a href="#">Software</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Support</h3>
                    <ul>
                        <li><a href="#">Product Support</a></li>
                        <li><a href="#">Drivers & Downloads</a></li>
                        <li><a href="#">Warranty & Repair</a></li>
                        <li><a href="#">Contact Us</a></li>
                        <li><a href="#">Knowledge Base</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3 id="support">Connect With Us</h3>
                    <p>Follow Canon on social media for the latest news and updates.</p>
                    <div class="social-icons" id="Support">
                        <a href="https://www.facebook.com/CanonMiddleEast/?utm_source=chatgpt.com"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://x.com/CanonUSA?utm_source=chatgpt.com"><i class="fab fa-twitter"></i></a>
                        <a href="https://www.instagram.com/canonusa/"><i class="fab fa-instagram"></i></a>
                        <a href="https://www.youtube.com/CanonUSA"><i class="fab fa-youtube"></i></a>
                        <a href="https://www.linkedin.com/company/canonusa?utm_source=chatgpt.com"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 ITI Youth Group. All rights reserved.</p>
            </div>
        </div>
    </footer>


<script>
//--------- Get Elements By -------------
var cartContainer = document.getElementById('cart-container');
var savedProducts = JSON.parse(localStorage.getItem('cart')) || [];

savedProducts.forEach(product => {
//------Create Dives ---------
  var divWithPrice = document.createElement('div');
  const div = document.createElement('div');
  var price = document.createElement('h4')
  divWithPrice.classList.add('divWithPrice');

  div.classList.add('cart-item');
  price.classList.add('price');

var plusbtn = document.createElement('button');
var minusbtn = document.createElement('button');


//------- Display Data From Local ------------
  div.innerHTML = `
    <img src="${product.image}" alt="${product.name}">
    <div>
      <h1>${product.name}</h1>
      <p>Quantity: ${product.quantity}</p>
    </div>
  `;
  price.innerText = `Price: ${product.price *product.quantity} $`

  plusbtn.innerText = '+'
  plusbtn.classList.add('plusbtn')
  plusbtn.onclick= plusFunction;

  minusbtn.innerText = '-'
  minusbtn.classList.add('minusbtn')
  minusbtn.onclick= minusFunction;

// ---------- Appending ----------
  
  cartContainer.appendChild(divWithPrice);
  divWithPrice.appendChild(div)
  div.appendChild(minusbtn)
  div.appendChild(plusbtn)
  divWithPrice.appendChild(price)

updateTotal();
});

//--------- Plus Btn ---------------
function plusFunction(e){
  var itemDiv = e.target.closest('.cart-item');
    var productName = itemDiv.querySelector('h1').textContent;
    let savedProducts = JSON.parse(localStorage.getItem('cart')) || [];
    let product = savedProducts.find(p => p.name === productName);
    product.quantity += 1;
    localStorage.setItem('cart', JSON.stringify(savedProducts));
  
  itemDiv.querySelector('p').textContent = `Quantity: ${product.quantity}`;
  itemDiv.parentElement.querySelector('.price').textContent= `Price: ${product.price * product.quantity} $`;
  // let cart = JSON.parse(localStorage.getItem("cart"))
  // existingProduct = cart.find(item => item.name === name);
  // if (existingProduct) {
  //   existingProduct.quantity +=1;
  // }
  // localStorage.setItem("cart", JSON.stringify(cart));
  alert(`${product.name} added to cart!`);
  updateTotal();
}

//--------- Minus Btn ---------------

function minusFunction(e){
//------- selecte -----------
  var itemDiv = e.target.closest('.cart-item');
  var productName = itemDiv.querySelector('h1').textContent;
  let savedProducts = JSON.parse(localStorage.getItem('cart')) || [];
  let product = savedProducts.find(p => p.name === productName);

//--------- Validation ----------
  if(product.quantity>=2){
  product.quantity -= 1;
  localStorage.setItem('cart', JSON.stringify(savedProducts));
  
  itemDiv.querySelector('p').textContent = `Quantity: ${product.quantity}`;
  itemDiv.parentElement.querySelector('.price').textContent = `Price: ${product.price * product.quantity} $`;
  alert(`${product.name} had deleted from cart!`);
}else if(product.quantity==1){
  let productIndex = savedProducts.findIndex(p => p.name === productName);
  let product = savedProducts[productIndex];

  savedProducts.splice(productIndex, 1);
  localStorage.setItem('cart', JSON.stringify(savedProducts));

  itemDiv.parentElement.remove();

}
updateTotal();
}

//----------- UpdateTotal ----------

function updateTotal() {
  let savedProducts = JSON.parse(localStorage.getItem('cart')) || [];
  let total = savedProducts.reduce((sum, p) => sum + p.price * p.quantity, 0);
  document.getElementById('total').textContent = ` Checkout: ${total}$`;
}

// function updateTotal(product){
//   total += product.price * product.quantity;
//   return totalDiv.textContent = `Total : ${total}$`
// }









// const cartContainer = document.getElementById('cart-container');
// const savedProducts = JSON.parse(localStorage.getItem('cart')) || [];

// savedProducts.forEach(product => {
//   const div = document.createElement('div');
//   div.classList.add('cart-item');
//   div.innerHTML = `
//     <img src="${product.image}" alt="${product.name}">
//     <div>
//       <h1>${product.name}</h1>
//       <h5>Quantity: ${product.quantity}</h5>
//     </div>
//   `;
//   cartContainer.appendChild(div);
// });






  // const cart = JSON.parse(localStorage.getItem("cart")) || [];
  // const container = document.getElementById('cart-list');

  // cart.forEach(item => {
  //   // Ù†Ø¹Ù…Ù„ div Ù„ÙƒÙ„ Ù…Ù†ØªØ¬
  //   const box = document.createElement('div');
  //   box.classList.add('cart-item');

  //   // Ù†Ø¶ÙŠÙ Ø§Ù„ØµÙˆØ±Ø©
  //   const img = document.createElement('img');
  //   img.src = item.image;
  //   img.width = 150;

  //   // Ù†Ø¶ÙŠÙ Ø§Ù„Ø§Ø³Ù…
  //   const name = document.createElement('p');
  //   name.textContent = item.name;

  //   // Ù†Ø¬Ù…Ø¹Ù‡Ù…
  //   box.appendChild(img);
  //   box.appendChild(name);
  //   container.appendChild(box);
  // });
</script>

</body>
</html>